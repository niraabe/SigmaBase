<!DOCTYPE html>
<html>

<header data-th-replace="replacements/header :: head(#{index.tabtitle})"/>

<body>

<nav data-th-replace="replacements/header :: navigation"/>

<div class="container-fluid">

    <div class="container-fluid">

        <div class="row" style="margin-top: 20px">
            <!--Placeholder, keep me !-->
        </div>

        <!-- ############### NO POSTS WARNING ###################### -->
        <div class="row" data-th-if="${totalKeySize == 0}">
            <div class="col-md-offset-4 col-md-4 ">
                <div class="alert alert-warning text-center" role="alert">
                    <a data-th-href="@{/}" data-th-text="#{admin.keys.nokeys}"/>
                </div>
            </div>
        </div>

        <!-- ############### POSTS ###################### -->
        <div class="row" data-th-if="${totalKeySize > 0}">
            <div class="col-md-offset-1 col-md-10 ">
                <table class="table">
                    <thead>
                    <tr>
                        <th>ID</th>
                        <th>Erstellt</th>
                        <th>Zuletzt geändert</th>
                        <th>Benutzerprofil</th>
                        <th>Benutzername</th>
                        <th>Name</th>
                        <th>Nachname</th>
                        <th>Aktivierungscode</th>
                        <th>Löschen</th>
                    </tr>
                    </thead>
                    <tbody data-th-each="key : ${keys}">
                    <tr>
                        <td data-th-text="${key.id}"></td>
                        <td data-th-text="${key.creationdate}"></td>
                        <td data-th-text="${key.lastmodified}"></td>
                        <td data-th-text="${key.userRole}"></td>

                        <td data-th-if="${key.user} != null" data-th-text="${key.user.username}"></td>
                        <td data-th-if="${key.user} == null" >-</td>

                        <td data-th-if="${key.user} != null" data-th-text="${key.user.forename}"></td>
                        <td data-th-if="${key.user} == null" >-</td>

                        <td data-th-if="${key.user} != null" data-th-text="${key.user.surname}"></td>
                        <td data-th-if="${key.user} == null" >-</td>
                        <td>  <button type="button" class="btn btn-primary btn-xs">Aktivierungscode</button></td>
                        <td><button type="button" class="btn btn-danger btn-xs">Löschen</button></td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- ############### PREVIOUS - NEXT BUTTONS ###################### -->
        <div class="row" data-th-if="${totalKeySize > 0}">
            <div class="col-md-offset-4 col-md-4 ">
                <nav>
                    <ul class="pager">
                        <li data-th-if="${page.first == false}" class="previous">
                            <a data-th-if="${searchpage == true}"
                               data-th-href="@{${resolvingUrl}(page=${page.number-1}, searchvalue=${searchvalue})}"
                               data-th-text="#{pagination.newer}"/>

                            <a data-th-if="${searchpage == null}" data-th-href="@{${resolvingUrl}(page=${page.number-1})}"
                               data-th-text="#{pagination.newer}"/>
                        </li>
                        <li data-th-if="${page.last == false}" class="next">

                            <a data-th-if="${searchpage == true}"
                               data-th-href="@{${resolvingUrl}(page=${page.number+1}, searchvalue=${searchvalue})}"
                               data-th-text="#{pagination.older}"/>

                            <a data-th-if="${searchpage == null}" data-th-href="@{${resolvingUrl}(page=${page.number+1})}"
                               data-th-text="#{pagination.older}"/>

                        </li>
                    </ul>
                </nav>
            </div>
        </div>
    </div>
</div>

</body>

</html>